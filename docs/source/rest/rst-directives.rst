.. _rest-directives-ref:

Οδηγίες (Directives)
**********************

Οι οδηγίες είναι ένας μηχανισμός επέκτασης του συντακτικού της reST. Αυτό σημαίνει ότι με τις οδηγίες μπορούμε να εισάγουμε νέες κατασκευές σε ένα έγγραφο, χωρίς να χρειάζεται να αλλαχθεί ή τροποποιηθεί το συντακτικό της reST (αν και ορισμένες οδηγίες μπορεί να υποστηρίζουν τοπικά νέο συντακτικό). Παράδειγμα τέτοιου περιεχομένου είναι μία εικόνα. Εικόνες μπορούμε να εισάγουμε σε ένα έγγραφο της reST, μόνο με τη βοήθεια συγκεκριμένων οδηγιών (δες το παράδειγμα στη συνέχεια).

Μία οδηγία είναι ένα γενικευμένο :ref:`μπλοκ ρητής σήμανσης <rest-concept-explicit-markup-ref>` (explicit markup block). Υπάρχουν έτοιμα τέτοια μπλοκ που παρέχονται από τη reST αλλά είναι εύκολη η δημιουργία νέων, με βάση κάποιους κανόνες. Αυτή η δυνατότητα επεκτασιμότητας, αυξάνει τη λειτουργικότητα και ευελιξία στη χρήση της συγκεκριμένης γλώσσας, καθώς είναι εύκολη η δημιουργία οδηγιών, προσαρμοσμένων σε συγκεκριμένες ανάγκες. Για παράδειγμα, πέρα από τις τυπικές οδηγίες που παρέχονται από τη reST (`reST Directives <https://docutils.sourceforge.io/docs/ref/rst/directives.html>`_), στο σύστημα Shinx εισάγονται επιπλέον και νέες, προσαρμοσμένες γιαυτό (`Sphinx Directives <https://www.sphinx-doc.org/en/master/usage/restructuredtext/directives.html>`_). Πάντως θα πρέπει να έχετε υπόψη ότι, με εξαίρεση τις τυπικές οδηγίες της reST, οποιεσδήποτε άλλες είναι διαθέσιμες μόνο στο πεδίο που δημιουργήθηκαν (για παράδειγμα, οι οδηγίες που εισάγονται από τη Sphinx δεν είναι διαθέσιμες εκτός Sphinx). Οι τυπικές οδηγίες της reST είναι πάντα διαθέσιμες.

Μία οδηγία δηλώνεται ρητά με τη σήμανση ``.. `` ακολουθούμενη από τον τύπο της οδηγίας, δύο colons και κενό. Όλο αυτό το string (φωνητική περιγραφή: *τελεία, τελεία, κενό, τύπος οδηγίας, άνω-κάτω τελεία, άνω-κάτω τελεία, κενό*) λέγεται *δείκτης της οδηγίας* (directive marker).

Μετά τον δείκτη της οδηγίας (δηλαδή μετά το τελευταίο κενό, δες παραπάνω φωνητική περιγραφή), ξεκινάει το σώμα της οδηγίας (directive block). Το σώμα, μετά την πρώτη γραμμή, πρέπει να έχει την ίδια εσοχή με τον τύπο της οδηγίας. Μπορεί δε να αποτελείται από:

- Ορίσματα (arguments)
- Επιλογές (options)
- Περιεχόμενο (content)

Τίποτε από τα παραπάνω δεν είναι υποχρεωτικό με την έννοια ότι υπάρχουν οδηγίες που δεν παίρνουν ορίσματα, άλλες που δεν παίρνουν επιλογές, άλλες που δε χρειάζονται περιεχόμενο και οποιοδήποτε άλλος συνδυασμός.

Οι επιλογές της οδηγίας εισάγονται με τη μορφή :ref:`λίστας επιλογών <rest-option-list-ref>`, μία μορφή λίστας που θα δούμε στη συνέχεια. Το ή τα ορίσματα και οι επιλογές πρέπει να είναι συνεχόμενα, σε αντίθεση με το περιεχόμενο που πρέπει να διαχωρίζεται με μία κενή γραμμή.

Στη συνέχεια φαίνονται διαγραμματικά, οι παραπάνω περιγραφές.

.. code-block:: none

   +-------+-------------------------------+
   | ".. " | directive type "::" arguments |
   +-------+ :option:                      |
           | :option:                      |
           | :...:                         |
           |                               |
           | content                       |
           +-------------------------------+

Η :numref:`rest-em-unit-ref` στην Ενότητα ":ref:`rest-concept-abslength-ref`", έχει εισαχθεί με τη βοήθεια του κώδικα που φαίνεται στη συνέχεια::

    .. figure:: ../pics/em.png
       :align: right
       :figwidth: 40%
       :width: 100%
       :name: rest-em-unit-ref

       Μονάδα μέτρησης "em" 

       Το γράμμα ``M`` (αγγλικό, κεφαλαίο) από δύο διαφορετικές
       γραμματοσειρές: αριστερά η σειρά "Perpetua" και δεξιά η
       "Calisto". Τα τετράγωνα έχουν μέγεθος (πλάτος) ακριβώς 
       ένα em.

Μελετήστε την περιγραφή που κάναμε παραπάνω, σε συνδυασμό με το συντακτικό διάγραμμα και το πραγματικό παράδειγμα, για να κατανοήσετε τη γενική λειτουργία μίας οδηγίας. 