

RestructuredText
*******************************

Η RestructuredText (συντ. RST ή ReST ή reST) είναι μία markup γλώσσα προγραμματισμού και παράλληλα ένα είδος format αρχείων κειμένου (αρχεία με κατάληξη ".rst"). Συγκαταλλέγεται στις "ελαφριές" γλώσσες σήμανσης (`lightweight markup languages <https://en.wikipedia.org/wiki/Lightweight_markup_language>`_) δηλαδή στις γλώσσες με απλή και διακριτική σύνταξη στις οποίες είναι εύκολη τόσο η γραφή όσο και η ανάγνωση του κειμένου από τον καθένα.

Δημιουργήθηκε από την κοινότητα προγραμματιστών Python (είναι μέρος του project "`Docutils <https://docutils.sourceforge.io/>`_"), προκειμένου να αποτελέσει ένα εύχρηστο εργαλείο παραγωγής τεχνικής τεκμηρίωσης, κώδικα Python. Το γεγονός αυτό όμως δε σημαίνει ότι δεν μπορεί να χρησιμοποιηθεί και σαν γενικής χρήσης markup γλώσσα. Αντίθετα, με τη reST μπορούμε εύκολα να δημιουργήσουμε κάθε μορφής κείμενο, από απλές αναφορές μέχρι και βιβλία.

Από το 2008 η reST έγινε μέρος του πυρήνα του συστήματος παραγωγής εγγράφων της Python, "Sphinx" και συνεπώς ο καλύτερος τρόπος για να τη χρησιμοποιήσει κανείς είναι μέσα από το συγκεκριμένο σύστημα. Στο παρόν βιβλίο μπορείτε να βρείτε ένα σύντομο οδηγό εγκατάστασης και χρήσης του συγκεκριμένου συστήματος.

Όπως με όλες τις markup γλώσσες, ο χρήστης έχει τη δυνατότητα δημιουργίας αρχείων απλού κειμένου (plain text files) σε οποιονδήποτε επεξεργαστή απλού κειμένου (plain text editor), σημαίνοντας κατάλληλα (marking up) τα σημεία εκείνα τα οποία θέλει να διαμορφώσει με ιδιαίτερο τρόπο. Για το σκοπό αυτό η reST παρέχει στο χρήστη κατάλληλους κανόνες σύνταξης για να προσαρμόσει τη διαμόρφωση του κειμένου στις ανάγκες του. Αυτούς τους κανόνες σύνταξης θα δούμε στη συνέχεια.

Η ονομασία "RestructuredText" (ναι είναι μία λέξη) επιλέχθηκε έτσι γιατί θεωρήθηκε ότι η συγκεκριμένη γλώσσα ήταν το αποτέλεσμα της *αναθεώρησης* (revision) και *επανερμηνείας* (reinterpretation) δύο άλλων γνωστών markup γλωσσών, της Setext_ και StructuredText_.

.. _Setext: https://en.wikipedia.org/wiki/Setext
.. _StructuredText: https://en.wikipedia.org/wiki/Structured_text

Μπορείτε να βρείτε ιστορικά στοιχεία καθώς και τους σκοπούς για τους οποίους δημιουργήθηκε η γλώσσα, στο κείμενο "`An Introduction to reStructuredText <https://docutils.sourceforge.io/docs/ref/rst/introduction.html>`_". Συγγραφέας του συγκεκριμένου κειμένου είναι ο ίδιος ο δημιουργός της γλώσσας `David Goodger <https://david.goodger.org/>`_. Επίσης μπορείτε να διαβάσετε τις προδιαγραφές της, γραμμένες από τον ίδιο, στο κείμενο "`reStructuredText Markup Specification <https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html>`_". Το τελευταίο ήταν βασικός οδηγός για τη συγγραφή του οδηγού που διαβάζετε τώρα.


Whitespace
============

Ο κενός χώρος και ο τρόπος που τον χρησιμοποιούμε, έχει μεγάλη σημασία στη δομή ενός εγγράφου γραμμένου σε reST. Συνιστάται η χρήση του πλήκτρου space για την εισαγωγή κενών χαρακτήρων χωρίς αυτό να σημαίνει ότι απαγορεύεται η χρήση του πλήκτρου tab (εισάγει πολλαπλούς κενούς χαρακτήρες, συνήθως 2 ή 4 αν και αυτό ρυθμίζεται στον κάθε editor).

Σε γενικές γραμμές χρειάζεται κάποια προσοχή στον τρόπο που τον χρησιμοποιούμε. Στις περισσότερες περιπτώσεις λάθους επεξεργασίας, το πρόβλημα είναι πιθανό να εντοπίζεται σε λάθος χρήση του κενού χώρου, λεπτομέρειες στη συνέχεια.


Blank Space
-------------

Μέσα σε μία παράγραφο χρησιμοποιούμε κενούς χαρακτήρες για να διαχωρίζουμε στοιχεία κειμένου (λέξεις, σύμβολα κ.λπ.). Δεν έχει σημασία αν θα χρησιμοποιήσουμε έναν ή περισσότερους κενούς χαρακτήρες, η reST θα λάβει υπόψη μόνο τον πρώτο και θα αγνοήσει τους επόμενους.

Η χρήση του πλήκτρου enter *μία φορά* μέσα σε μία παράγραφο, ισοδυναμεί με έναν κενό χαρακτήρα. Αυτό σημαίνει ότι αν το κάνετε, στον editor θα δείτε αλλαγή γραμμής αλλά στο αποτέλεσμα όχι. Η χρήση του πλήκτρου enter *δύο φορές*, εισάγει μία νέα κενή γραμμή και ο σκοπός της είναι διαφορετικός.


Blank Lines
-------------

Οι κενές γραμμές χρησιμοποιούνται για να διαχωρίσουν μεταξύ τους παραγράφους και άλλα στοιχεία κειμένου. Επίσης χρησιμοποιούνται και σαν μηχανισμός ένθεσης περιεχομένου μέσα σε στοιχεία κειμένου (για παράδειγμα λίστες μέσα σε λίστες). Με αυτόν τον τρόπο δημιουργούνται επίπεδα περιεχομένου που συνήθως συνοδεύονται και από αντίστοιχες εσοχές (δες στη συνέχεια :ref:`rst-indentation`).

Πολλές διαδοχικές κενές γραμμές είναι ισοδύναμες με μία. Αυτό δεν ισχύει μέσα σε μπλοκ κυριολεκτικού κειμένου (literal block) όπου όλος ο κενός χώρος διατηρείται.

Η reST θεωρεί ότι πριν από την πρώτη γραμμή κάθε κειμένου και μετά την τελευταία, προηγείται και έπεται μία κενή γραμμή αντίστοιχα. Με απλά λόγια, απομονώνει όλο το κείμενο με κενές γραμμές.

Θα δούμε στη συνέχεια και ανάλογα με την περίπτωση, τον ιδιαίτερο ρόλο των κενών γραμμών.

.. _rst-indentation:

Indentation
-------------

Οι εσοχές χρησιμοποιούνται για να υποδεικνύουν αποσπάσματα κειμένου (block quotes), ορισμούς (σε λίστες ορισμών) και σε τοπικά ένθετο περιεχόμενο. Ο τελευταίος όρος ειδικότερα σημαίνει:

- Αντικείμενα λιστών (items)
- Το περιεχόμενο ενός μπλοκ *κυριολεκτκού κειμένου* (literal block)
- Το περιεχόμενο μίας κατασκευής *ρητής σήμανσης* (explicit markup)

Επειδή στη reST έχουμε τη δυνατότητα αυθαίρετης ένθεσης περιεχομένου, σε διάφορα επίπεδα (π.χ. περιεχόμενο μέσα σε περιεχόμενο μέσα σε περιεχόμενο κ.ο.κ.), όταν απαιτούνται εσοχές σε οποιοδήποτε επίπεδο, αυτές θεωρείται ότι πρέπει να ξεκινάνε από το αντίστοιχο επίπεδο ένθεσης. Θεωρείται δε ότι τερματίζονται όταν η εσοχή του επόμενου μέρους κειμένου είναι μικρότερη από του παρόντος.

Επίσης, επειδή όλες οι εσοχές είναι σημαντικές για τη reST, πρέπει να υπάρχει συνέπεια και συνέχεια στα επίπεδα εσοχών.

Όταν το κείμενο που περιλαμβάνεται σε ένα μπλοκ με εσοχή, εκτείνεται σε περισσότερες από μία γραμμές, όλες οι γραμμές πρέπει να ξεκινάνε από το "ύψος" της εσοχής. Αυτό φαίνεται στο επόμενο παράδειγμα block quote::

  Αυτή είναι μία κανονική παράγραφος. Ακολουθεί ένα block quote.

    Ένα block quote είναι ένα απόσπασμα κειμένου που θέλουμε
    να διακρίνεται από το υπόλοιπο κείμενο (π.χ. μία φράση που
    είπε κάποιος). Το block πρέπει να έχει εσοχή σε σχέση με το
    τρέχον κείμενο (την κανονική παράγραφο παραπάνω). Χρησιμοποιήστε
    τουλάχιστο δύο spaces για εσοχή.

      Μπορούμε να ενθέσουμε block quote μέσα άλλο, σε
      οποιοδήποτε επίπεδο (όπως εδώ). Γενικότερα, στη reST υπάρχει
      δυνατότητα αυθαίρετης ένθεσης στοιχείων κειμένου μέσα άλλα.
      Για κάθε επίπεδο χρειάζονται νέες εσοχές σε σχέση με το
      προηγούμενο (και πάλι τουλάχιστο δύο spaces).

      Παρατηρήστε επίσης τον τρόπο που στοιχίζεται το κείμενο σε
      κάθε επίπεδο (αριστερά, εκεί που ξεκινάει η αντίστοιχη εσοχή).
      Αν κάνετε λάθη σε αυτές τις λεπτομέρειες, η reST δε θα 
      καταλάβει που θέλετε να τοποθετήσει το αντίστοιχο στοιχείο.

    Αυτή είναι δεύτερη παράγραφος του αρχικού block. Η προηγούμενη
    εσοχή τερματίστηκε γιατί εδώ ξεκινάμε από την ίδια εσοχή με το
    αρχικό μπλοκ.

  Αυτή είναι μία ακόμη κανονική παράγραφος. Είναι κανονική γιατί
  πλέον δε χρησιμοποιούμε εσοχές (τρέχον κείμενο).

-----

*Αποτέλεσμα*

Αυτή είναι μία κανονική παράγραφος. Ακολουθεί ένα block quote.

  Ένα block quote είναι ένα απόσπασμα κειμένου που θέλουμε
  να διακρίνεται από το υπόλοιπο κείμενο (π.χ. μία φράση που
  είπε κάποιος). Το block πρέπει να έχει εσοχή σε σχέση με το
  τρέχον κείμενο (την κανονική παράγραφο παραπάνω). Χρησιμοποιήστε
  τουλάχιστο δύο spaces για εσοχή.

    Μπορούμε να ενθέσουμε block quote μέσα άλλο, σε οποιοδήποτε
    επίπεδο (όπως εδώ). Γενικότερα, στη reST υπάρχει δυνατότητα
    αυθαίρετης ένθεσης στοιχείων κειμένου μέσα άλλα. Για κάθε
    επίπεδο χρειάζονται νέες εσοχές σε σχέση με το προηγούμενο
    (και πάλι τουλάχιστο δύο spaces).

    Παρατηρήστε επίσης τον τρόπο που στοιχίζεται το κείμενο σε
    κάθε επίπεδο (αριστερά εκεί που ξεκινάει η αντίστοιχη εσοχή.)
    Αν κάνετε λάθη σε αυτές τις λεπτομέρειες, η reST δε θα 
    καταλάβει που θέλετε να τοποθετήσει το αντίστοιχο στοιχείο.

  Αυτή είναι δεύτερη παράγραφος του αρχικού block. Η προηγούμενη
  εσοχή τερματίστηκε γιατί εδώ ξεκινάμε από την ίδια εσοχή με το
  αρχικό μπλοκ.

Αυτή είναι μία ακόμη κανονική παράγραφος. Είναι κανονική γιατί
πλέον δε χρησιμοποιούμε εσοχές (τρέχον κείμενο).
    
-----

Περισσότερες πληροφορίες για τις εσοχές δίνονται στις αντίστοιχες ενότητες, ανάλογα με το στοιχείο κειμένου που χρησιμοποιούνται.



.. Ενότητα "Βασικά"

.. include:: rst-basics.rst

.. Ενότητα "Πίνακες"

.. include:: rst-tables.rst

.. Ενότητα "Directives"

.. include:: rst-directives.rst


.. .. toctree::
..    :maxdepth: 1
..    :caption: Περιεχόμενα:

..    rst-basics
..    rst-inline-markup
..    rst-lists
..    rst-tables